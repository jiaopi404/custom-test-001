<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <canvas id="canvas" style="height: 200px; width: 300px;"></canvas>
  <script>
    // const img = new Image()
    // img.src = './637x844.png'
    // img.crossOrigin = '*'
    // img.onload = function () {
    //   const canvas = document.querySelector('#canvas')
    //   const ctx = canvas.getContext('2d')
    //   ctx.fillStyle = '#ff3040'
    //   ctx.fillRect(0, 0, canvas.width, canvas.height)
    //   ctx.drawImage(img, 0, 0)
    //   console.log(ctx)
    //   const base64 = canvas.toDataURL('image/png', 1)
    //   console.log(base64)
    // }
    // // 对设置了跨域的图片转为 base64 再进行使用
    // function getImgBase64 ({ imgUrl }) {
    //   return new Promise((resolve, reject) => {
    //     const xhr = new XMLHttpRequest()
    //     xhr.open('GET', imgUrl, true)
    //     xhr.responseType = 'blob'
    //     xhr.onload = function () {
    //       if (this.status === 200) {
    //         const blob = this.response
    //         const fr = new FileReader()
    //         fr.onloadend = function (e) {
    //           console.log(e)
    //           resolve(e.target.result)
    //         }
    //         fr.readAsDataURL(blob)
    //       }
    //     }
    //     xhr.onerror = function (err) {
    //       reject(err)
    //     }
    //     xhr.send()
    //   })
    // }
    let str = '<p style="align:left;margin-left:0;margin-right:0;margin-top:0px;margin-bottom:0px;text-indent:0;valign:middle;direction:ltr;"><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">备注：<br/></font></p><p style="align:left;margin-left:0;margin-right:0;margin-top:0px;margin-bottom:0px;text-indent:0;valign:middle;direction:ltr;"><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">1.本流程图编制依据：</font><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">《北京师范大学珠海分校基本建设工程管理办法》、《北京师范大学珠海分校维修改造工程管理办法》。<br/>2.此流程适用于新建项目竣工验收。<br/></font></p><p style="align:left;margin-left:0;margin-right:0;margin-top:0px;margin-bottom:0px;text-indent:0;valign:middle;direction:ltr;"><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">3.流程节点（02）：维修改造项目竣工验收：校园规划与建设办公室接到竣工验收申请后，及时组织施工、监理、学校资产管理部门（物业、使用部门）等单位进行会签验收</font><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">。<br/></font></p><p style="align:left;margin-left:0;margin-right:0;margin-top:0px;margin-bottom:0px;text-indent:0;valign:middle;direction:ltr;"><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">4</font><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">.流程节点（</font><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">04</font><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">）：相关专项验收包括：消防验收、规划验收、人防验收、节能验收、防雷验收等。<br/></font><font style="font-size:11px;font-family:Times New Roman;color:#000000;direction:ltr;letter-spacing:0px;line-height:120%;opacity:1">5.流程节点（06）；五方指：勘察单位、设计单位、监理单位、施工单位、建设单位。<br/></font></p>'
    const pStartReg = /\<p[a-zA-Z:"; =0-9%#-]*\>/g
    const pEndReg = /\<\/p\>/g
    const fontStartReg = /\<font[a-zA-Z:"; =0-9%#-]*\>/g
    const fontEndReg = /\<\/font\>/g
    str = str.replace(pStartReg, '')
    // const testReg = /style/g
    str = str.replace(pEndReg, '')
    str = str.replace(fontStartReg, '')
    str = str.replace(fontEndReg, '')
    // str = str.replace(testReg, '')
    console.log('str is: ', str)
  </script>
</body>

</html>