<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       * 两数相加 线性链表
       */
      var addTwoNumbers = function (l1, l2) {
        function ListNode(val, next) {
          this.val = val === undefined ? 0 : val;
          this.next = next === undefined ? null : next;
        }
        function toListNode(arr) {
          var listNode;
          for (var i = arr.length - 1; i > -1; i--) {
            listNode = new ListNode(arr[i], listNode);
          }
          return listNode;
        }
        function toArr(listNode) {
          console.log("list node is;", listNode);
          var _result = [];
          while (listNode) {
            _result.push(listNode.val);
            listNode = listNode.next;
          }
          _result.pop();
          return _result;
        }
        var singlyLinked1 = toListNode(l1);
        var singlyLinked2 = toListNode(l2);

        // 是否还有下一位
        var hasNext = true;
        var sl1 = singlyLinked1;
        var sl2 = singlyLinked2;

        var ifBitGt10 = false;

        var result = new ListNode(0, undefined);
        var pointer = result;
        while (hasNext) {
          var value1 = sl1.val;
          var value2 = sl2.val;

          var tmpSum = value1 + value2;

          var bit = (tmpSum % 10) + (ifBitGt10 ? 1 : 0);

          pointer.val = bit;
          pointer.next = new ListNode(0, undefined);

          ifBitGt10 = tmpSum >= 10;
          hasNext = sl1.next || sl2.next || ifBitGt10;

          pointer = pointer.next;
          sl1 = sl1 ? sl1.next : new ListNode(0, undefined);
          sl2 = sl2 ? sl2.next : new ListNode(0, undefined);
        }

        return toArr(result);
      };
      console.log("result", addTwoNumbers([2, 4, 3], [5, 6, 4]));
      console.log("result", addTwoNumbers([2, 4, 3], [5, 6, 4]));
      console.log("result", addTwoNumbers([2, 4, 3], [5, 6, 4]));
      console.log("result", addTwoNumbers([2, 4, 3], [5, 6, 4]));
      console.log("result", addTwoNumbers([2, 4, 3], [5, 6, 4]));
      console.log("result", addTwoNumbers([2, 4, 3], [5, 6, 4]));
      console.log("result", addTwoNumbers([2, 4, 3], [5, 6, 4]));
      console.log("result", addTwoNumbers([2, 4, 3], [5, 6, 4]));
    </script>
  </body>
</html>
